
<!--
var message = new SpeechSynthesisUtterance();
message.text = "Il tuo messaggio da pronunciare";

// Recupero dell'elenco delle voci
var voices = speechSynthesis.getVoices();

// Seleziona la voce di donna
var selectedVoice = voices.find(function(voice) {

  return voice.lang === 'it-IT' && voice.name.includes('Elsa'); // Esempio: voce italiana di donna
});
  console.log(speechSynthesis.getVoices());
// Imposta la voce nell'oggetto SpeechSynthesisUtterance
message.voice = selectedVoice;

// Riproduzione del messaggio
window.speechSynthesis.speak(message);-->
<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Pokemon</title>
        <link rel="stylesheet" type="text/css" href="css/style.css">
    </head>
    <body>
	 <p id="b">ciao</p>
	 <input type="text" id="a" value="ciao bello">
	
	<script>
	let inputForm=document.getElementById("a")
	let voiceSelect=document.getElementById("b")
		const synth = window.speechSynthesis;
		function populateVoiceList() {
		  voices = synth.getVoices();

		  for (let i = 0; i < voices.length; i++) {
			const option = document.createElement("option");
			option.textContent = `${voices[i].name} (${voices[i].lang})`;

			if (voices[i].default) {
			  option.textContent += " â€” DEFAULT";
			}
			console.log(voices[1].name)
			console.log(voices)
			option.setAttribute("data-lang", voices[i].lang);
			option.setAttribute("data-name", voices[i].name);

		  }
		}

		populateVoiceList();
		if (speechSynthesis.onvoiceschanged !== undefined) {
		  speechSynthesis.onvoiceschanged = populateVoiceList;
		}

		inputForm.onsubmit = (event) => {
		  event.preventDefault();

		  const utterThis = new SpeechSynthesisUtterance(inputTxt.value);
		  const selectedOption =
			voiceSelect.selectedOptions[0].getAttribute("data-name");
		  for (let i = 0; i < voices.length; i++) {
			if (voices[i].name === selectedOption) {
			  utterThis.voice = voices[i];
			  
			}
		  }
		  utterThis.pitch = pitch.value;
		  utterThis.rate = rate.value;
		  synth.speak(utterThis);

		  utterThis.onpause = (event) => {
			const char = event.utterance.text.charAt(event.charIndex);
			console.log(
			  `Speech paused at character ${event.charIndex} of "${event.utterance.text}", which is "${char}".`
			);
		  };

		  inputTxt.blur();
		};



</script>
    </body>
	</html>